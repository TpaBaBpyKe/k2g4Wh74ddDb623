repeat wait() until game:IsLoaded()
--Stops script if on a different game
if game.PlaceId ~= 8737602449 and game.PlaceId ~= 8943844393 then
	return
end

if getgenv().loadedR then
	return
else
	getgenv().loadedR = true
end

local httprequest = (syn and syn.request) or http and http.request or http_request or (fluxus and fluxus.request) or request

task.wait()
  --Anti-AFK
local Players = game:GetService("Players")
local connections = getconnections or get_signal_cons or nil
task.spawn(function()
	if connections then
		for a, b in next, connections(game:GetService('Players').LocalPlayer.Idled) do
			b:Disable()
		end
	else
		local vu = game:GetService("VirtualUser")
		game:GetService("Players").LocalPlayer.Idled:Connect(function()
			vu:Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
			wait(1)
			vu:Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
		end)
	end
end)
  
  --Variables
local unclaimed = {}
local counter = 0
local donation, boothText, spamming, hopTimer
local signPass = false
local httpservice = game:GetService('HttpService')
local event = require(game:GetService('ReplicatedStorage').Remotes)
local errCount = 0
local booths = {
	["1"] = "72, 3, 36",
	["2"] = "83, 3, 161",
	["3"] = "11, 3, 36",
	["4"] = "100, 3, 59",
	["5"] = "72, 3, 166",
	["6"] = "2, 3, 42",
	["7"] = "-9, 3, 52",
	["8"] = "10, 3, 166",
	["9"] = "-17, 3, 60",
	["10"] = "35, 3, 173",
	["11"] = "24, 3, 170",
	["12"] = "48, 3, 29",
	["13"] = "24, 3, 33",
	["14"] = "101, 3, 142",
	["15"] = "-18, 3, 142",
	["16"] = "60, 3, 33",
	["17"] = "35, 3, 29",
	["18"] = "0, 3, 160",
	["19"] = "48, 3, 173",
	["20"] = "61, 3, 170",
	["21"] = "91, 3, 151",
	["22"] = "-24, 3, 72",
	["23"] = "-28, 3, 88",
	["24"] = "92, 3, 51",
	["25"] = "-28, 3, 112",
	["26"] = "-24, 3, 129",
	["27"] = "83, 3, 42",
	["28"] = "-8, 3, 151"
}

getgenv().settingsR = {}
  --Load Settings
if isfile("plsdonatesettingsR.txt") then
	local sl, er = pcall(function()
		getgenv().settingsR = httpservice:JSONDecode(readfile('plsdonatesettingsR.txt'))
	end)
	if er ~= nil then
		task.spawn(function()
			errMsg = Instance.new("Hint")
			errMsg.Parent = workspace
			errMsg.Text = tostring("Settings reset due to error: " .. er)
			task.wait(15)
			errMsg:Destroy()
		end)
		delfile("plsdonatesettingsR.txt")
	end
end
local sNames = {
	'BegMessages',
	'ThankMessages'
}
local sValues = {
	{
		'Jumping for robux!',
		'1R$ Donated = 1 jump!',
		'1 Robux = 5 Jumps, no limits',
		'i will be very glad if you donated'
	},
	{
		'Thank you',
		'ty :D',
		'tysm!!'
	}
}
if #getgenv().settingsR ~= sNames then
	for i, v in ipairs(sNames) do
		if getgenv().settingsR[v] == nil then
			getgenv().settingsR[v] = sValues[i]
		end
	end
	writefile('plsdonatesettingsR.txt', httpservice:JSONEncode(getgenv().settingsR))
end
  
  --Save Settings
local settingsLock = true
local function saveSettings()
	print('Settings saved.')
	writefile('plsdonatesettingsR.txt', httpservice:JSONEncode(getgenv().settingsR))
end

function serverHop()
	--local isVip = game:GetService('RobloxReplicatedStorage').GetServerType:InvokeServer()
	--if isVip == "VIPServer" then return end
	if Toggles.autoSHEnabled == false and not getgenv().clickSH then return end
	local gameId
	gameId = "8737602449"
	if Toggles.serverHopAtVoice.Value == true then
		gameId = "8943844393"
	end
	if Toggles.RandomServersHop.Value == true then
		math.randomseed(tick())
		local random = math.random(0, 1)
		if random == 1 then
			gameId = '8943844393'
		else
			gameId = '8737602449'
		end
	end
	local servers = {}
	local req = httprequest({
		Url = "https://games.roblox.com/v1/games/" .. gameId .. "/servers/Public?sortOrder=Desc&limit=100"
	})
	local body = httpservice:JSONDecode(req.Body)
	if body and body.data then
		for i, v in next, body.data do
			if type(v) == "table" and tonumber(v.playing) and tonumber(v.maxPlayers) and v.playing < v.maxPlayers and v.playing > 19 then
				table.insert(servers, 1, v.id)
			end
		end
	end
	if #servers > 0 then
		game:GetService("TeleportService"):TeleportToPlaceInstance(gameId, servers[math.random(1, #servers)], Players.LocalPlayer)
	end
	game:GetService("TeleportService").TeleportInitFailed:Connect(function()
		game:GetService("TeleportService"):TeleportToPlaceInstance(gameId, servers[math.random(1, #servers)], Players.LocalPlayer)
	end)
end
local function waitServerHop()
	task.wait(Options.AutoSHMinutes.Value * 60)
	serverHop()
end
local function hopSet()
	if hopTimer then
		task.cancel(hopTimer)
	end
	if Toggles.autoSHEnabled.Value == true then
		hopTimer = task.spawn(waitServerHop)
	end
end

local function playerChecker(player)
    if Toggles.ServerHopIfMod.Value == false then return end
	pcall(function()
		if player:GetRankInGroup(12121240) >= 254 then
			serverHop()
		end
	end)
end

local function hex(c3)
    local r,g,b = math.floor(c3.R*255), math.floor(c3.G*255), math.floor(c3.B*255)
    return string.format("#%02X%02X%02X", r, g, b)
end

local function update()
	print('Starting update function')
	local text
	local current = Players.LocalPlayer.leaderstats.Raised.Value
	local goal = current + tonumber(Options.GoalSlider.Value)
	if goal == 420 or goal == 425 then
		goal = goal + 10
	end
	if current == 420 or current == 425 then
		current = current + 10
	end
	if goal > 999 then
		if tonumber(Options.GoalSlider.Value) < 10 then
			goal = string.format("%.2fk", (current + 10) / 10 ^ 3)
		else
			goal = string.format("%.2fk", (goal) / 10 ^ 3)
		end
	end
	if current > 999 then
		current = string.format("%.2fk", current / 10 ^ 3)
	end
	if Options.boothTextTextbox.Value then
		print('started setting up text')
		textxs = string.gsub(Options.boothTextTextbox.Value, "$C", current)
		text = string.gsub(textxs, "$G", goal)
		print('gsubbed the goals')
		boothText = tostring('<font color="' .. hex(Options.textColorPicker.Value) .. '">' .. text .. '</font>')
		print('got the text')
		  --Updates the booth text
		local myBooth = Players.LocalPlayer.PlayerGui.MapUIContainer.MapUI.BoothUI:FindFirstChild(tostring("BoothUI" .. unclaimed[1]))
		print('got booth')
		if myBooth.Sign.TextLabel.Text ~= boothText then
			if string.find(myBooth.Sign.TextLabel.Text, "# #") or string.find(myBooth.Sign.TextLabel.Text, "##") then
				print('tags found')
				if Toggles.ServerHopIfTag.Value == true then
					serverHop()
					return
				end
				require(game:GetService("ReplicatedStorage").Remotes).Event("SetBoothText"):FireServer("your text here", "booth")
				task.wait(3)
			end
			print('tags not found')
			require(game:GetService('ReplicatedStorage').Remotes).Event("SetBoothText"):FireServer(boothText, "booth")
			task.wait(3)
		end
	end
	if Toggles.EquipSignT.Value == true then
		local sign = Players.LocalPlayer.Backpack:FindFirstChild('DonateSign')
		if sign then
		   sign.Parent = Players.LocalPlayer.Character
		end
		task.wait(0.3)
		task.spawn(function()
			while task.wait(10) do
				require(game:GetService('ReplicatedStorage').Remotes).Event("SetBoothText"):FireServer(Options.addSignText.Value, "sign")
			end
		end)
	end
end
local function begging()
	while Toggles.AutoBegT.Value == true do
		game:GetService('ReplicatedStorage').DefaultChatSystemChatEvents.SayMessageRequest:FireServer(getgenv().settingsR.BegMessages[math.random(1,#getgenv().settingsR.BegMessages)], "All")
		task.wait(Options.BegDelaySlid.Value)
	end
end
local function webhook(msg)
	pcall(function()
	httprequest({
		Url = Options.webhookInputT.Value,
		Body = httpservice:JSONEncode({
			["content"] = msg
		}),
		Method = "POST",
		Headers = {
			["content-type"] = "application/json"
		}
	})
end)
end

-- [[ ACTUAL CODE ]]

local queueonteleport = (syn and syn.queue_on_teleport) or queue_on_teleport or (fluxus and fluxus.queue_on_teleport)
local httpservice = game:GetService('HttpService')
--queueonteleport("loadstring(game:HttpGet('https://raw.githubusercontent.com/CF-Trail/tzechco-PlsDonateAutofarmBackup/main/autofarm'))()")
local repoLib = 'https://raw.githubusercontent.com/wally-rblx/LinoriaLib/main/'

local Library = loadstring(game:HttpGet(repoLib .. 'Library.lua'))()
local ThemeManager = loadstring(game:HttpGet(repoLib .. 'addons/ThemeManager.lua'))()
local SaveManager = loadstring(game:HttpGet(repoLib .. 'addons/SaveManager.lua'))()

local Window = Library:CreateWindow({
    Title = 'pls donate v1.1 | TpaBa',
    Center = true, 
    AutoShow = true,
})

local Tabs = {
	InfoTab = Window:AddTab('Ð˜Ð½Ñ„Ð°'),
    BoothTab = Window:AddTab('Ð¡Ñ‚Ð¾Ð¹ÐºÐ°'),
    serverHopTab = Window:AddTab('Ð¡Ð¼ÐµÐ½Ð° ÑÐµÑ€Ð²ÐµÑ€Ð°'),
	miscTab = Window:AddTab('ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ'),
    ['UI Settings'] = Window:AddTab('UI/ÐšÐ¾Ð½Ñ„Ð¸Ð³Ð¸'),
}

local boothTextSettings = Tabs.BoothTab:AddLeftGroupbox('ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ‚ÐµÐºÑÑ‚Ð°')
local boothOtherSettings = Tabs.BoothTab:AddRightGroupbox('Ð”Ñ€ÑƒÐ³Ð¾Ðµ')
local serverHopSettings = Tabs.serverHopTab:AddLeftGroupbox('ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸')
local serverHopMain = Tabs.serverHopTab:AddRightGroupbox('Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ')
local miscMain = Tabs.miscTab:AddLeftGroupbox('')
local miscMainT = Tabs.miscTab:AddRightGroupbox('')
--SCRAPPED
local infoMain = Tabs.InfoTab:AddLeftGroupbox('')
local infoExpand = Tabs.InfoTab:AddRightGroupbox('')

infoMain:AddLabel('Pls Donate | TpaBa ')
infoMain:AddLabel('ÐšÐ¾Ð½Ñ„Ð¸Ð³ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 10 ÑÐµÐºÑƒÐ½Ð´')

boothTextSettings:AddInput('boothTextTextbox', {
    Default = "âœ… 1 ROBUX DONATED = 1 JUMP âœ…",
    Numeric = false, 
    Finished = true,
    Text = 'Booth Text',
    Tooltip = '$C = Current / $G = Goal',
    Placeholder = 'A text that shows on your booth',
})

boothTextSettings:AddDivider()

boothTextSettings:AddSlider('textUpdateSlider', {
    Text = 'Ð—Ð°Ð´ÐµÑ€Ð¶ÐºÐ° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ‚ÐµÐºÑÑ‚Ð°(Ð¡)',
    Default = 30,
    Min = 1,
    Max = 120,
    Rounding = 0,
    Compact = false,
})

boothTextSettings:AddLabel('Text Color'):AddColorPicker('textColorPicker', {
    Default = Color3.new(0,1,0),
    Title = 'Text Color',
})

boothTextSettings:AddDivider()

boothTextSettings:AddSlider('GoalSlider', {
    Text = 'ÐŸÑ€Ð¸Ð±Ð°Ð²ÐºÐ° Ðº Ñ†ÐµÐ»Ð¸',
    Default = 5,
    Min = 0,
    Max = 100,
    Rounding = 0,
    Compact = false,
})

boothOtherSettings:AddToggle('donationJumpToggle', {
    Text = 'ÐŸÑ€Ñ‹Ð¶Ð¾Ðº Ð·Ð° Ð´Ð¾Ð½Ð°Ñ‚',
    Default = true,
    Tooltip = 'ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ñ‹Ð³Ð°ÐµÑ‚ Ð·Ð° Ð·Ð°Ð´Ð¾Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ‹Ðµ Ñ€Ð¾Ð±ÑƒÐºÑÑ‹',
})

boothOtherSettings:AddDropdown('standingPositionDrop', {
    Values = { 'Ð¡Ð¿ÐµÑ€ÐµÐ´Ð¸', 'Ð¡Ð¿Ñ€Ð°Ð²Ð°', 'Ð¡Ð»ÐµÐ²Ð°', 'Ð¡Ð·Ð°Ð´Ð¸' },
    Default = 1,
    Multi = false,

    Text = 'ÐœÐµÑÑ‚Ð¾ Ñƒ ÑÑ‚Ð¾Ð¹ÐºÐ¸',
    Tooltip = 'Ð’Ñ‹Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð¼ÐµÑÑ‚Ð¾ Ð³Ð´Ðµ Ð²Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ ÑÑ‚Ð¾ÑÑ‚ÑŒ',
})

serverHopSettings:AddToggle('serverHopAfterDonationTog', {
    Text = 'Ð¡Ð¼ÐµÐ½Ð° ÑÐµÑ€Ð²ÐµÑ€Ð° Ð¿Ð¾ÑÐ»Ðµ Ð´Ð¾Ð½Ð°Ñ‚Ð°',
    Default = false,
    Tooltip = 'ÐœÐµÐ½ÑÐµÑ‚ ÑÐµÑ€Ð²ÐµÑ€ Ð¿Ð¾ÑÐ»Ðµ Ð´Ð¾Ð½Ð°Ñ‚Ð°',
})

serverHopMain:AddButton('ServerHop',function()
	getgenv().clickSH = true
	serverHop()
end)

serverHopMain:AddDivider()

serverHopMain:AddToggle('autoSHEnabled', {
    Text = 'ÐÐ²Ñ‚Ð¾ ÑÐ¼ÐµÐ½Ð° ÑÐµÑ€Ð²ÐµÑ€Ð°',
    Default = true,
    Tooltip = 'ÐœÐµÐ½ÑÐµÑ‚ ÑÐµÑ€Ð²ÐµÑ€ Ð¿Ð¾ÑÐ»Ðµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ð»Ð¸ Ð²Ñ‹',
})

serverHopMain:AddSlider('AutoSHMinutes', {
    Text = 'Ð—Ð°Ð´ÐµÑ€Ð¶ÐºÐ° ÑÐ¼ÐµÐ½Ñ‹ ÑÐµÑ€Ð²ÐµÑ€Ð°(Ðœ)',
    Default = 15,
    Min = 5,
    Max = 60,
    Rounding = 0,
    Compact = false,
})

serverHopSettings:AddToggle('serverHopAtVoice', {
	Text = 'VC ÑÐµÑ€Ð²ÐµÑ€Ð°',
	Default = false,
	Tooltip = 'Ð—Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ð° Ñ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ñ‹Ð¼ Ñ‡Ð°Ñ‚Ð¾Ð¼',
})

serverHopSettings:AddToggle('RandomServersHop', {
	Text = 'Ð Ð°Ð½Ð´Ð¾Ð¼Ð½Ð°Ñ ÑÐ¼ÐµÐ½Ð°',
	Default = false,
	Tooltip = 'Ð Ð°Ð½Ð´Ð¾Ð¼Ð½Ð¾ Ð¼ÐµÐ½ÑÐµÑ‚ ÑÐµÑ€Ð²ÐµÑ€ Ð¼ÐµÐ¶Ð´Ñƒ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ñ‹Ð¼Ð¸ Ð¸ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¼Ð¸',
})

miscMain:AddToggle('AutoBegT', {
	Text = 'ÐÐ²Ñ‚Ð¾ Ð¿Ð¾Ð¿Ñ€Ð¾ÑˆÐ°Ð¹Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾',
	Default = true,
	Tooltip = 'ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ Ð´Ð¾Ð½Ð°Ñ‚',
})

miscMain:AddToggle('AutoThanksq', {
	Text = 'ÐÐ²Ñ‚Ð¾ ÑÐ¿Ð°ÑÐ¸Ð±Ð¾',
	Default = true,
	Tooltip = 'Ð‘Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð¸Ñ‚ Ð·Ð° Ð´Ð¾Ð½Ð°Ñ‚',
})

miscMain:AddToggle('webhookToggleT', {
	Text = 'Ð’ÐµÐ±Ñ…ÑƒÐº ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ',
	Default = false,
	Tooltip = 'ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð² Ð´Ð¸ÑÐºÐ¾Ñ€Ð´ ÐµÑÐ»Ð¸ Ð¿Ñ€Ð¸ÑˆÑ‘Ð» Ð´Ð¾Ð½Ð°Ñ‚'
})

miscMain:AddDivider()

miscMain:AddButton('ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð¿Ñ€Ð¾ÑˆÐ°Ð¹Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð°',function()
	getgenv().settingsR.BegMessages = {}
end)

miscMain:AddButton('ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð½Ð¾ÑÑ‚Ð¸',function()
	getgenv().settingsR.ThankMessages = {}
end)

miscMain:AddDivider()

miscMain:AddInput('addBegMsgInput', {
    Default = '',
    Numeric = false,
    Finished = true, 
    Text = 'Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð¿Ñ€Ð¾ÑˆÐ°Ð¹Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð°',
    Tooltip = '(ÐÐÐ–ÐœÐ˜Ð¢Ð• ENTER Ð”Ð›Ð¯ Ð¡ÐžÐ¥Ð ÐÐÐ•ÐÐ˜Ð¯)',
    Placeholder = 'Beg message ',
})

miscMain:AddInput('autoThanksInput', {
    Default = '',
    Numeric = false, 
    Finished = true,
    Text = 'Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð½Ð¾ÑÑ‚Ð¸',
    Tooltip = '(ÐÐÐ–ÐœÐ˜Ð¢Ð• ENTER Ð”Ð›Ð¯ Ð¡ÐžÐ¥Ð ÐÐÐ•ÐÐ˜Ð¯)',
    Placeholder = 'AutoThanks message',
})

miscMain:AddInput('webhookInputT', {
    Default = '',
    Numeric = false, 
    Finished = false,
    Text = 'Ð’ÐµÐ±Ñ…ÑƒÐº',
    Tooltip = 'Ð”Ð¸ÑÐºÐ¾Ñ€Ð´ Ð²ÐµÐ±Ñ…ÑƒÐº(ÐÐÐ–ÐœÐ˜Ð¢Ð• ENTER Ð”Ð›Ð¯ Ð¡ÐžÐ¥Ð ÐÐÐ•ÐÐ˜Ð¯)',
    Placeholder = 'Webhook',
})

Options.addBegMsgInput:OnChanged(function()
	if Options.addBegMsgInput.Value:gsub(' ','') ~= '' then
	   table.insert(getgenv().settingsR.BegMessages,Options.addBegMsgInput.Value)
	end
end)

Options.autoThanksInput:OnChanged(function()
	if Options.autoThanksInput.Value:gsub(' ','') ~= '' then
	   table.insert(getgenv().settingsR.ThankMessages,Options.autoThanksInput.Value)
	end
end)

miscMain:AddDivider()

miscMain:AddSlider('BegDelaySlid', {
	Text = 'Ð—Ð°Ð´ÐµÑ€Ð¶ÐºÐ° Ð¿Ð¾Ð¿Ñ€Ð¾ÑˆÐ°Ð¹Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð°',
    Default = 300,
    Min = 10,
    Max = 600,
    Rounding = 0,
    Compact = false,
})

miscMain:AddSlider('jumpsPerRobux', {
	Text = 'ÐŸÑ€Ñ‹Ð¶Ð¾Ðº Ð·Ð° Ð´Ð¾Ð½Ð°Ñ‚',
    Default = 1,
    Min = 1,
    Max = 50,
    Rounding = 0,
    Compact = false,
})


if setfpscap and typeof(setfpscap) == 'function' then
	miscMain:AddSlider('FpsCapS',{
		Text = 'Fps Ð»Ð¸Ð¼Ð¸Ñ‚',
		Default = 60,
		Min = 10,
		Max = 60,
		Rounding = 0,
		Compact = false,
	})
	Options.FpsCapS:OnChanged(function()
		setfpscap(Options.FpsCapS.Value)
	end)
end

miscMain:AddDivider()

miscMain:AddDropdown('DanceChoiceD', {
	Values = { '/e wave','/e cheer','/e dance', '/e dance2','/e dance3'},
    Default = 3,
    Multi = false,

    Text = 'Ð’Ñ‹Ð±Ð¾Ñ€ Ñ‚Ð°Ð½Ñ†Ð°',
    Tooltip = 'ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ñ‚Ð°Ð½Ñ†ÑƒÐµÑ‚ Ð·Ð° ÑÑ‚Ð¾Ð¹ÐºÐ¾Ð¹',
})

Options.DanceChoiceD:OnChanged(function()
	Players:Chat(Options.DanceChoiceD.Value)
end)

miscMainT:AddToggle('AutoNearReply',{
	Text = 'ÐÐ²Ñ‚Ð¾-Ð¾Ñ‚Ð²ÐµÑ‚Ñ‡Ð¸Ðº',
	Default = false,
	Tooltip = 'ÐžÑ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ ÐµÑÐ»Ð¸ Ð¾Ð½ Ð±Ð»Ð¸Ð·ÐºÐ¾ Ðº Ð²Ð°Ð¼'
})

miscMainT:AddToggle('DisableRenderingT', {
	Text = 'ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐ½Ð´ÐµÑ€',
	Default = false,
	Tooltip = 'ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ½Ð´ÐµÑ€Ð° Ð´Ð»Ñ ÑÐ½Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸'
})

Toggles.DisableRenderingT:OnChanged(function()
	local valx = Toggles.DisableRenderingT.Value
	if valx == true then
		game:GetService("RunService"):Set3dRenderingEnabled(false)
	else
		game:GetService("RunService"):Set3dRenderingEnabled(true)
	end
end)

miscMainT:AddToggle('AutoAnonymous', {
	Text = 'Ð ÐµÐ¶Ð¸Ð¼ Ð°Ð½Ð¾Ð½Ð¸Ð¼ÑƒÑÐ°',
	Default = false,
	Tooltip = 'ÐÐµ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð²Ñ‹ Ð´Ð¾Ð½Ð°Ñ‚Ð¸Ð»Ð¸'
})

Toggles.AutoAnonymous:OnChanged(function()
	local valw = Toggles.AutoAnonymous.Value
	if valw == true then
		require(game:GetService('ReplicatedStorage').Remotes).Event('SetDonatedVisibility'):FireServer(false)
	else
		require(game:GetService('ReplicatedStorage').Remotes).Event('SetDonatedVisibility'):FireServer(true)
	end
end)

miscMainT:AddToggle('ServerHopIfTag', {
	Text = 'Ð¡Ð¼ÐµÐ½Ð° ÑÐµÑ€Ð²ÐµÑ€Ð° Ð¿Ñ€Ð¸ Ñ†ÐµÐ½Ð·ÑƒÑ€Ðµ ÑÑ‚Ð¾Ð¹ÐºÐ¸',
	Default = true,
	Tooltip = 'ÐÐ²Ñ‚Ð¾ ÑÐ¼ÐµÐ½Ð° ÑÐµÑ€Ð²ÐµÑ€Ð° Ð¿Ñ€Ð¸ Ñ†ÐµÐ½Ð·ÑƒÑ€Ðµ Ð²Ð°ÑˆÐµÐ¹ ÑÑ‚Ð¾Ð¹ÐºÐ¸'
})

miscMainT:AddToggle('ServerHopIfMod', {
	Text = 'Ð¡Ð¼ÐµÐ½Ð° ÑÐµÑ€Ð²ÐµÑ€Ð° Ð¿Ñ€Ð¸ Ð°Ð´Ð¼Ð¸Ð½Ðµ',
	Default = true,
	Tooltip = 'ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¼ÐµÐ½ÑÐµÑ‚ ÑÐµÑ€Ð²ÐµÑ€ ÐµÑÐ»Ð¸ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð°Ð´Ð¼Ð¸Ð½'
})

miscMainT:AddDivider()

miscMainT:AddToggle('EquipSignT', {
	Text = 'Ð’Ð·ÑÑ‚ÑŒ Ñ‚Ð°Ð±Ð»Ð¸Ñ‡ÐºÑƒ',
	Default = false,
	Tooltip = 'ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð±ÐµÑ€Ñ‘Ñ‚ Ñ‚Ð°Ð±Ð»Ð¸Ñ‡ÐºÑƒ (Ð½ÑƒÐ¶ÐµÐ½ Ð³ÐµÐ¹Ð¼Ð¿Ð°ÑÑ) '
})

Toggles.EquipSignT:OnChanged(function()
	local vall = Toggles.EquipSignT.Value
	if vall == false and Players.LocalPlayer.Character:FindFirstChild('DonateSign') then
		Players.LocalPlayer.Character.DonateSign.Parent = Players.LocalPlayer.Backpack
	elseif vall == true and Players.LocalPlayer.Backpack:FindFirstChild('DonateSign') then
		Players.LocalPlayer.Backpack.DonateSign.Parent = Players.LocalPlayer.Character
	end
end)

miscMainT:AddInput('addSignText', {
    Default = '',
    Numeric = false,
    Finished = true, 
    Text = 'Ð¢ÐµÐºÑÑ‚ Ð½Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ‡ÐºÐµ',
    Tooltip = 'Ð¢ÐµÐºÑÑ‚ Ð½Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ‡ÐºÐµ (Ð½ÑƒÐ¶ÐµÐ½ Ð³ÐµÐ¹Ð¼Ð¿Ð°ÑÑ)',
    Placeholder = 'Ð¢ÐµÐºÑÑ‚ Ð½Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ‡ÐºÐµ',
})

local MenuGroup = Tabs['UI Settings']:AddLeftGroupbox('Menu')
MenuGroup:AddButton('Unload', function() Library:Unload() end)
MenuGroup:AddLabel('Menu bind'):AddKeyPicker('MenuKeybind', { Default = 'End', NoUI = true, Text = 'Menu keybind' }) 
Library.ToggleKeybind = Options.MenuKeybind 
ThemeManager:SetLibrary(Library)
SaveManager:SetLibrary(Library)
SaveManager:IgnoreThemeSettings() 
SaveManager:SetIgnoreIndexes({ 'MenuKeybind' }) 
ThemeManager:SetFolder('pls-2donate')
SaveManager:SetFolder('pls-2donate/plsdonate')
SaveManager:BuildConfigSection(Tabs['UI Settings']) 
ThemeManager:ApplyToTab(Tabs['UI Settings'])

task.spawn(function()
	while task.wait(10) do
		SaveManager:Save('autosave')
		local name = 'autosave'
		writefile('pls-2donate/plsdonate/settings/autoload.txt', name)
		saveSettings()
	end
end)

task.spawn(function()
	while task.wait(1) do
		for i,v in next, Players:GetPlayers() do
			playerChecker(v)
		end
	end
end)

SaveManager:LoadAutoloadConfig()

  --Finds unclaimed booths
  local function findUnclaimed()
	for i, v in pairs(Players.LocalPlayer.PlayerGui.MapUIContainer.MapUI.BoothUI:GetChildren()) do
		if (v.Details.Owner.Text == "unclaimed") then
			table.insert(unclaimed, tonumber(string.match(tostring(v), "%d+")))
		end
	end
end
if not pcall(findUnclaimed) then
	serverHop()
end
local claimCount = #unclaimed
  --Claim booth function
local function boothclaim()
	require(game:GetService('ReplicatedStorage').Remotes).Event("ClaimBooth"):InvokeServer(unclaimed[1])
	if not string.find(Players.LocalPlayer.PlayerGui.MapUIContainer.MapUI.BoothUI:FindFirstChild(tostring("BoothUI" .. unclaimed[1])).Details.Owner.Text, Players.LocalPlayer.DisplayName) then
		task.wait(1)
		if not string.find(Players.LocalPlayer.PlayerGui.MapUIContainer.MapUI.BoothUI:FindFirstChild(tostring("BoothUI" .. unclaimed[1])).Details.Owner.Text, Players.LocalPlayer.DisplayName) then
			error()
		end
	end
end
  --Checks if booth claim fails
while not pcall(boothclaim) do
	if errCount >= claimCount then
		serverHop()
	end
	table.remove(unclaimed, 1)
	errCount = errCount + 1
end
hopSet()
local function walkToBooth()
	local theCframe
	local standVal = Options.standingPositionDrop.Value
    getgenv().standingPositionX = standVal
	if standVal == "Ð¡Ð¿ÐµÑ€ÐµÐ´Ð¸" then
		getgenv().standingPositionX = 3
	elseif standVal == "Ð¡Ð»ÐµÐ²Ð°" then
		getgenv().standingPositionX = -6
	elseif standVal == "Ð¡Ð¿Ñ€Ð°Ð²Ð°" then
		getgenv().standingPositionX = 6
	else
		getgenv().standingPositionX = -5.5
	end
	if string.find(tostring(getgenv().standingPositionX), "6") then
		theCframe = CFrame.new(getgenv().standingPositionX, 0, 0)
	else
		theCframe = CFrame.new(0, 0, getgenv().standingPositionX)
	end
	local boothPos
	for i, v in ipairs(game:GetService("Workspace").BoothInteractions:GetChildren()) do
		if v:GetAttribute("BoothSlot") == unclaimed[1] then
			boothPos = v.CFrame * theCframe
			break
		end
	end
	game:GetService('VirtualInputManager'):SendKeyEvent(true, "LeftControl", false, game)
	local Controls = require(Players.LocalPlayer.PlayerScripts:WaitForChild("PlayerModule")):GetControls()
	Controls:Disable()
	local atBooth = false
	game:GetService("Workspace").Map.Main.Bench:Destroy()
	Players.LocalPlayer.Character.Humanoid:MoveTo(boothPos.Position)
	Players.LocalPlayer.Character.Humanoid.MoveToFinished:Connect(function(reached)
		atBooth = true
	end)
	repeat
		task.wait()
	until atBooth
	Players.LocalPlayer.Character.Humanoid.RootPart.CFrame = CFrame.new(boothPos.Position)
	Controls:Enable()
	game:GetService('VirtualInputManager'):SendKeyEvent(false, "LeftControl", false, game)
	Players.LocalPlayer.Character:SetPrimaryPartCFrame(CFrame.new(Players.LocalPlayer.Character.HumanoidRootPart.Position, Vector3.new(40, 14, 101)))
	task.wait(1)
	Players:Chat(Options.DanceChoiceD.Value)
end
walkToBooth()
if Toggles.AutoBegT.Value == true then
	spamming = task.spawn(begging)
end
local RaisedC = Players.LocalPlayer.leaderstats.Raised.value
Players.LocalPlayer.leaderstats.Raised.Changed:Connect(function()
	hopSet()
	if Toggles.webhookToggleT.Value == true then
		webhook("ðŸ’° Tip | Amount: " .. tostring(Players.LocalPlayer.leaderstats.Raised.Value - RaisedC) .. 'R$ (after tax: ' .. tostring(math.floor((Players.LocalPlayer.leaderstats.Raised.Value - RaisedC) * 0.6)) .. 'R$) | Total: ' .. tostring(Players.LocalPlayer.leaderstats.Raised.Value) .. 'R$ | Account: ' .. Players.LocalPlayer.DisplayName .. ' (' .. Players.LocalPlayer.Name .. ')')
	end
	if Toggles.serverHopAfterDonationTog.Value == true then
		task.spawn(function()
			serverHop()
		end)
	end
	if Toggles.donationJumpToggle.Value == true then
			task.spawn(function()
				if Options.jumpsPerRobux.Value == 1 then
					for i = 1, game:GetService('Players').LocalPlayer.leaderstats.Raised.value - RaisedC do
						game:GetService('Players').LocalPlayer.Character.Humanoid:ChangeState("Jumping")
						repeat
							task.wait()
						until game:GetService('Players').LocalPlayer.Character.Humanoid:GetState() == Enum.HumanoidStateType.Running
					end
				else
					for i = 1, (game:GetService('Players').LocalPlayer.leaderstats.Raised.value - RaisedC) * Options.jumpsPerRobux.Value do
						game:GetService('Players').LocalPlayer.Character.Humanoid:ChangeState("Jumping")
						repeat
							task.wait()
						until game:GetService('Players').LocalPlayer.Character.Humanoid:GetState() == Enum.HumanoidStateType.Running
					end
				end
			end)
	end
	RaisedC = Players.LocalPlayer.leaderstats.Raised.value
	if Toggles.AutoThanksq.Value == true then
		task.spawn(function()
			game:GetService('ReplicatedStorage').DefaultChatSystemChatEvents.SayMessageRequest:FireServer(getgenv().settingsR.ThankMessages[math.random(1,#getgenv().settingsR.ThankMessages)], "All")
		end)
	end
	task.wait(Options.textUpdateSlider.Value)
	update()
end)
update()
local msgdone = game:GetService('ReplicatedStorage').DefaultChatSystemChatEvents.OnMessageDoneFiltering
local randommsgs = {
	'yes',
	'ok',
	'alr',
	'yeah'
}
local messageRequest = game:GetService('ReplicatedStorage').DefaultChatSystemChatEvents.SayMessageRequest
msgdone.OnClientEvent:Connect(function(msgdata)
	local speaker = tostring(msgdata.FromSpeaker)
	local message = string.lower(msgdata.Message)
	task.wait(1.4 + math.random(0.1,0.4))
	local plrChatted = game:GetService('Players')[speaker] or nil
	if (plrChatted and plrChatted == game:GetService('Players').LocalPlayer) or Toggles.AutoNearReply.Value == false or not plrChatted then
		return
	end
	pcall(function()
		local chatChar = plrChatted.Character
		if (plrChatted.Character and plrChatted.Character.Humanoid.RootPart) then
			local root = chatChar.Humanoid.RootPart
			if (root.Position - game:GetService('Players').LocalPlayer.Character.Humanoid.RootPart.Position).Magnitude < 11 then
				if message == 'hello' or message == 'hi' or message == 'sup' then
					messageRequest:FireServer("hello " .. Players[speaker].DisplayName, 'All')
				elseif string.find(message, 'jump') then
					messageRequest:FireServer('ok', 'All')
				elseif string.find(message, '?') then
					messageRequest:FireServer('yes', 'All')
				else
					messageRequest:FireServer(randommsgs[math.random(1, #randommsgs)], 'All')
				end
			end
		end
	end)
end)
	while task.wait(Options.AutoSHMinutes.Value * 60) do
		if not hopTimer then
			hopSet()
		end
	end
